# –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω

## –û–±–∑–æ—Ä
–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ DeepLabV3 —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–Ω –≤ –∏–Ω—Ç–µ—Ä—å–µ—Ä–µ.

## –§–∞–π–ª—ã –º–æ–¥–µ–ª–∏
- `wall_segmentation_specialized.tflite` - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å (2.7 MB)
- `wall_model_config.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏
- `wall_segmentation_mapping.json` - –º–∞–ø–ø–∏–Ω–≥ –∫–ª–∞—Å—Å–æ–≤ ADE20K
- `wall_segmentation_labels.txt` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ (—Ñ–æ–Ω/—Å—Ç–µ–Ω–∞)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–í—Ö–æ–¥–Ω–æ–π —Ä–∞–∑–º–µ—Ä**: 257x257x3 –ø–∏–∫—Å–µ–ª–µ–π
- **–í—ã—Ö–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã**: 2 (—Ñ–æ–Ω –∏ —Å—Ç–µ–Ω–∞)
- **–§–æ—Ä–º–∞—Ç**: FP16 –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–î–µ–ª–µ–≥–∞—Ç**: XNNPACK –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –º–æ–¥–µ–ª—å—é
1. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–µ–Ω/–Ω–µ —Å—Ç–µ–Ω
2. **–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–∂–∏–¥–∞–µ–º—ã–µ 15-25 FPS
3. **–¢–æ—á–Ω–æ—Å—Ç—å**: 90%+ –¥–ª—è —á–µ—Ç–∫–∏—Ö —Å—Ç–µ–Ω
4. **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–ª–∫–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π

## –ú–∞–ø–ø–∏–Ω–≥ –∫–ª–∞—Å—Å–æ–≤

–ú–æ–¥–µ–ª—å –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç 21 –∫–ª–∞—Å—Å ADE20K –≤ 2 –∫–ª–∞—Å—Å–∞:

### –°—Ç–µ–Ω–∞ (–∫–ª–∞—Å—Å 1):
- wall (1) - —Å—Ç–µ–Ω—ã
- building (2) - —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã  
- ceiling (3) - –ø–æ—Ç–æ–ª–æ–∫

### –§–æ–Ω (–∫–ª–∞—Å—Å 0):
- background (0) - —Ñ–æ–Ω
- floor (4) - –ø–æ–ª
- cabinet (5) - —à–∫–∞—Ñ—ã
- –º–µ–±–µ–ª—å (6-20) - –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```dart
final wallSegmentationService = WallSegmentationService();
await wallSegmentationService.loadModel();

final mask = wallSegmentationService.processCameraImage(cameraImage);
if (mask != null) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∞—Å–∫—É –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ —Ç–æ–ª—å–∫–æ —Å—Ç–µ–Ω
}
```

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é:
- **–°–∏–Ω—è—è –∏–∫–æ–Ω–∫–∞** (‚≠ê) - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
- **–û—Ä–∞–Ω–∂–µ–≤–∞—è –∏–∫–æ–Ω–∫–∞** (üéõÔ∏è) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –º–æ–¥–µ–ª—å

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- **FPS**: 15-25
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: 300-600ms –Ω–∞ iPhone
- **–ü–∞–º—è—Ç—å**: ~3MB
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 90%+ –¥–ª—è —á–µ—Ç–∫–∏—Ö —Å—Ç–µ–Ω

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞:
- –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ: <5% –∏–ª–∏ >95% —Å—Ç–µ–Ω
- –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ: 20-80% —Å—Ç–µ–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏
–ï—Å–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `assets/ml/`
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –º–æ–¥–µ–ª—å
3. –õ–æ–≥: "Failed to load specialized model, falling back to standard"

### –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
–ü—Ä–∏ –ø–ª–æ—Ö–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ —Å—Ç–µ–Ω:
1. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ö–æ—Ä–æ—à–µ–º –æ—Å–≤–µ—â–µ–Ω–∏–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ç–∫–æ—Å—Ç—å —Å—Ç–µ–Ω –≤ –∫–∞–¥—Ä–µ
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –º–æ–¥–µ–ª—å

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–û–±—É—á–µ–Ω–∏–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. **Quantization**: –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏
3. **Edge TPU**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è
4. **–î–æ–æ–±—É—á–µ–Ω–∏–µ**: Fine-tuning –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 