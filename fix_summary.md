# –†–µ–∑—é–º–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π AR Wall Painter

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: "Null check operator used on a null value"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–∞ –∫–∞–º–µ—Ä—ã —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ start/stop –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –£–±—Ä–∞–ª–∏ Timer.periodic —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ startImageStream/stopImageStream
- –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫ –∫–∞–º–µ—Ä—ã –û–î–ò–ù —Ä–∞–∑ –ø—Ä–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ–º throttling (100ms) –≤–Ω—É—Ç—Ä–∏ callback
- –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ CameraImage
- –î–æ–±–∞–≤–∏–ª–∏ null-safety –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 2. ‚ö° –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (width > 0, height > 0)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ planes
- Bounds checking –¥–ª—è –∏–Ω–¥–µ–∫—Å–æ–≤ –º–∞—Å—Å–∏–≤–æ–≤
- Graceful handling –æ—à–∏–±–æ–∫ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

‚úÖ **–î–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ null pointer
- –ü–æ—Ç–µ—Ä—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º  
- –ó–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–¥—Ä–æ–≤
- Crashes –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã

‚úÖ **–î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ:**
- –ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∫–∞–º–µ—Ä—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–¥—Ä–æ–≤ 10 FPS
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç–µ–Ω Stanford –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º
- –û—Ç–∑—ã–≤—á–∏–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ñ—É–Ω–∫—Ü–∏–π

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã —Å BLoC
- [x] Stanford –∞–ª–≥–æ—Ä–∏—Ç–º —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω
- [x] UI —Å —Ü–≤–µ—Ç–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä–æ–π (8 —Ü–≤–µ—Ç–æ–≤)
- [x] –°–µ–Ω—Å–æ—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—Ä–∞—Å–∫–æ–π
- [x] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- [x] –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–∞ –∫–∞–º–µ—Ä—ã

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ 30+ FPS
- [ ] AR plane detection
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ML –º–æ–¥–µ–ª–µ–π (DeepLabv3+)
- [ ] GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –µ—Å–ª–∏ –≤—Å—ë —Å—Ç–∞–±–∏–ª—å–Ω–æ
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ AR plane detection** - –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ML –º–æ–¥–µ–ª–µ–π** - –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
1. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ crashes
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–ª–∞–≤–Ω–æ–π)
3. –ü–æ–∫—Ä–∞—Å–∫–∞ —Å—Ç–µ–Ω—ã –∫–∞—Å–∞–Ω–∏–µ–º (Stanford –∞–ª–≥–æ—Ä–∏—Ç–º)
4. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ (8 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤)
5. –û—á–∏—Å—Ç–∫–∞ –ø–æ–∫—Ä–∞—Å–∫–∏
6. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏)

**–û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–¥—Ä–∞: 50-150ms
- –¢–æ—á–Ω–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏: 70-90%
- –ß–∞—Å—Ç–æ—Ç–∞ –∫–∞–¥—Ä–æ–≤: 10 FPS —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –ë–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## üõ†Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
ARWallPainterScreen (UI)
    ‚Üì
ARWallPainterBloc (–õ–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
    ‚Üì
WallPainterStanfordService (Stanford –∞–ª–≥–æ—Ä–∏—Ç–º)
    ‚Üì
Canny Edge Detection ‚Üí Flood Fill ‚Üí Dilation ‚Üí Alpha Blending
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Single imageStream (–Ω–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ start/stop)
- Throttling –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–¥—Ä–æ–≤
- Robust error handling
- Memory-efficient –æ–ø–µ—Ä–∞—Ü–∏–∏
- Fallback –¥–ª—è edge cases 