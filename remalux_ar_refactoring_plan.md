# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è –∏ –ü–ª–∞–Ω –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è Remalux-AR

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–≤—É—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∞—É–¥–∏—Ç–æ–≤ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–ª–∞–Ω –ø–æ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –∏ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Flutter-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è remalux-ar.

## 1. –û–±—â–µ–µ –°–∞–º–º–µ—Ä–∏ (Executive Summary)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **remalux-ar** –≤ –µ–≥–æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º, —Å—Ç—Ä–∞–¥–∞—é—â–∏–º –æ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –µ–≥–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±–ª–∞—Å—Ç–µ–π:
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å UI (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω "Massive View Controller").
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –§–∞—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞—Å—Å–µ—Ç–æ–≤ (—à—Ä–∏—Ñ—Ç–æ–≤) –∏ –Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–±–æ–∏ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞ iOS, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π ML-–±–∏–±–ª–∏–æ—Ç–µ–∫.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ–π —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–æ–π –ª–æ–≥–∏–∫–∏ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞, ML-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å) –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∏ "–∑–∞–≤–∏—Å–∞–Ω–∏—é" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI jank).
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ML/AR:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–≤–µ—Ä–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (GPU), –∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è –∫—Ä–∞—Å–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é AR-—Ñ—É–Ω–∫—Ü–∏—é –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–π.

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π –ø–ª–∞–Ω ‚Äî —ç—Ç–æ –ø–æ—à–∞–≥–æ–≤–∞—è –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞ –≤ –Ω–∞–¥–µ–∂–Ω—ã–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –ø—Ä–æ–¥—É–∫—Ç. –ü–ª–∞–Ω —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö:
1.  **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–±–æ–µ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—É—Ç–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—Å—Å–µ—Ç–æ–≤ –∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è iOS.
2.  **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:** –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥—Ö–æ–¥–∞ "Feature-First" –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ BLoC –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∏—Å—Ç–æ–≥–æ, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∫–æ–¥–∞.
3.  **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** –ü–µ—Ä–µ–Ω–æ—Å –≤—Å–µ—Ö —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (Isolates) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ UI –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è (GPU delegates) –¥–ª—è ML-–º–æ–¥–µ–ª–∏.
4.  **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AR-–ª–æ–≥–∏–∫–∏:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ "–∑–∞–ª–∏–≤–∫–∏" –¥–ª—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π –ø–æ–∫—Ä–∞—Å–∫–∏ —Å—Ç–µ–Ω.

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏, –∞ –∑–∞–ª–æ–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## 2. –ü–ª–∞–Ω –î–µ–π—Å—Ç–≤–∏–π (Action Plan)

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —á–µ–∫-–ª–∏—Å—Ç –∑–∞–¥–∞—á, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–æ**
- [x] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)** –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–±–æ—Ä–∫—É (—à—Ä–∏—Ñ—Ç—ã, `pubspec.yaml`).
  - ‚úÖ –®—Ä–∏—Ñ—Ç—ã `Ysabeau` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `lib/core/assets/fonts/`
  - ‚úÖ –í `main.dart` –Ω–∞—Å—Ç—Ä–æ–µ–Ω `GoogleFonts.config.allowRuntimeFetching = false`
  - ‚ö†Ô∏è **–ù—É–∂–Ω–æ:** –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ü–∏—é `fonts` –≤ `pubspec.yaml`

### üîÑ **–í –ø—Ä–æ—Ü–µ—Å—Å–µ / –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**  
- [x] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)** –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫ –Ω–∞ iOS (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Xcode, `Podfile`).
  - ‚úÖ `Podfile` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
  - ‚ö†Ô∏è **–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:** –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è TensorFlowLiteSwift —Å Metal-–ø–æ–¥—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

- [~] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (—É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ —ç–∫—Ä–∞–Ω–æ–≤).
  - ‚úÖ –ï—Å—Ç—å –¥–≤–∞ —ç–∫—Ä–∞–Ω–∞: `wall_painter_screen.dart` –∏ `ar_wall_painter_screen_simple.dart`
  - ‚ùå **–ù—É–∂–Ω–æ:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–¥–∏–Ω —ç–∫—Ä–∞–Ω –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π

- [~] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)** –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å `SegmentationService` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Isolate` –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
  - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `IsolateInterpreter` –≤ –æ–±–æ–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
  - ‚ùå **–ù—É–∂–Ω–æ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏ —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

- [~] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è YUV->RGB.
  - ‚úÖ –ï—Å—Ç—å –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `_convertCameraImage`
  - ‚ö†Ô∏è **–ù—É–∂–Ω–æ:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É `bytesPerRow`

### ‚ùå **–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**
- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)** –í–Ω–µ–¥—Ä–∏—Ç—å BLoC –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —ç–∫—Ä–∞–Ω–∞ –ø–æ–∫—Ä–∞—Å–∫–∏.
  - ‚ùå –¢–µ–∫—É—â–∏–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `StatefulWidget` —Å –ø—Ä—è–º—ã–º `setState`
  - ‚ùå –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Riverpod, –Ω–æ –Ω–µ –¥–ª—è AR-—ç–∫—Ä–∞–Ω–æ–≤

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í—ã—Å–æ–∫–∏–π)** –í—ã–±—Ä–∞—Ç—å –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é ML-–º–æ–¥–µ–ª—å (–æ–±—É—á–µ–Ω–Ω—É—é –Ω–∞ ADE20K).
  - ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏: `deeplabv3_mnv2_ade20k_1.tflite`, `segformer.tflite`, `1.tflite`
  - ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `1.tflite` (–Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å)
  - ‚ùå **–ù—É–∂–Ω–æ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–±—Ä–∞—Ç—å `deeplabv3_mnv2_ade20k_1.tflite` –∏–ª–∏ `segformer.tflite`

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í—ã—Å–æ–∫–∏–π)** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞ –¥–ª—è —Å—Ç–µ–Ω (`wallClassIndex = 1`).
  - ‚úÖ –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `const int wallClassIndex = 1`
  - ‚ùå **–ù—É–∂–Ω–æ:** –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í—ã—Å–æ–∫–∏–π)** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (—ç–∫—Ä–∞–Ω -> –º–æ–¥–µ–ª—å).
  - ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: `scaleX = screenWidth / outputWidth`
  - ‚ùå **–ù—É–∂–Ω–æ:** –£—á–µ—Å—Ç—å aspect ratio –∏ —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã `CameraPreview`

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í—ã—Å–æ–∫–∏–π)** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–ª–∏–≤–∫–∏ (Flood Fill) –¥–ª—è –º–µ—Ö–∞–Ω–∏–∫–∏ –ø–æ–∫—Ä–∞—Å–∫–∏.
  - ‚ùå –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ —Ç–æ—á–µ—á–Ω–∞—è –ø–æ–∫—Ä–∞—Å–∫–∞

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°—Ä–µ–¥–Ω–∏–π)** –í–∫–ª—é—á–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å GPU-–¥–µ–ª–µ–≥–∞—Ç—ã –¥–ª—è Android (GpuDelegateV2) –∏ iOS (Metal).
  - ‚ùå GPU-–¥–µ–ª–µ–≥–∞—Ç—ã –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–¥–µ
  - ‚ùå **–ù—É–∂–Ω–æ:** –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°—Ä–µ–¥–Ω–∏–π)** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∫—É –º–∞—Å–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `BlendMode` –¥–ª—è –±–æ–ª—å—à–µ–π —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏.
  - ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å `BlendMode.overlay` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  - ‚ùå **–ù—É–∂–Ω–æ:** –£–ª—É—á—à–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∂–∏–º—ã –Ω–∞–ª–æ–∂–µ–Ω–∏—è

- [ ] **(–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°—Ä–µ–¥–Ω–∏–π)** –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á–µ—Ä–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è BLoC).
  - ‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –Ω–µ—Ç BLoC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## 2.1. –¢–µ–∫—É—â–∏–π –°—Ç–∞—Ç—É—Å –∏ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –Ω–∞ –ë–ª–∏–∂–∞–π—à–∏–π –°–ø—Ä–∏–Ω—Ç

### üöÄ **–ü–µ—Ä–≤–æ–æ—á–µ—Ä–µ–¥–Ω—ã–µ –∑–∞–¥–∞—á–∏ (—Å–ª–µ–¥—É—é—â–∏–µ 1-2 –Ω–µ–¥–µ–ª–∏):**

1. **–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —à—Ä–∏—Ñ—Ç—ã –≤ `pubspec.yaml`** ‚è±Ô∏è 5 –º–∏–Ω—É—Ç
   - –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ —Å–µ–∫—Ü–∏–∏ `fonts` –≤ `pubspec.yaml`
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `flutter pub get`

2. **–í—ã–±—Ä–∞—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é ML-–º–æ–¥–µ–ª—å** ‚è±Ô∏è 1-2 –¥–Ω—è
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `deeplabv3_mnv2_ade20k_1.tflite` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1)
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `segformer.tflite` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #2)
   - –ò–∑–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏

3. **–û–±—ä–µ–¥–∏–Ω–∏—Ç—å AR-—ç–∫—Ä–∞–Ω—ã** ‚è±Ô∏è 2-3 –¥–Ω—è
   - –í—ã–±—Ä–∞—Ç—å `ar_wall_painter_screen_simple.dart` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π (–±–æ–ª–µ–µ –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
   - –£–¥–∞–ª–∏—Ç—å `wall_painter_screen.dart`
   - –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

### üîß **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–ª–µ–¥—É—é—â–∏–µ 2-4 –Ω–µ–¥–µ–ª–∏):**

4. **–°–æ–∑–¥–∞—Ç—å `SegmentationService`** ‚è±Ô∏è 3-5 –¥–Ω–µ–π
   - –í—ã–Ω–µ—Å—Ç–∏ ML-–ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Isolate.run` –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `SegmentationResult`

5. **–í–Ω–µ–¥—Ä–∏—Ç—å BLoC/Cubit –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** ‚è±Ô∏è 5-7 –¥–Ω–µ–π
   - –°–æ–∑–¥–∞—Ç—å `WallPainterBloc`
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–∑ `StatefulWidget`

6. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** ‚è±Ô∏è 2-3 –¥–Ω—è
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
   - –£—á–µ—Å—Ç—å aspect ratio –∫–∞–º–µ—Ä—ã –∏ —ç–∫—Ä–∞–Ω–∞
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### üìà **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –º–µ—Å—è—Ü–∞):**

7. **GPU-—É—Å–∫–æ—Ä–µ–Ω–∏–µ**
8. **–ê–ª–≥–æ—Ä–∏—Ç–º –∑–∞–ª–∏–≤–∫–∏ (Flood Fill)**
9. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ BlendMode —ç—Ñ—Ñ–µ–∫—Ç—ã**
10. **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

## 3. –î–µ—Ç–∞–ª—å–Ω—ã–π –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ê—É–¥–∏—Ç –∏ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

### –í–≤–µ–¥–µ–Ω–∏–µ

–ù–∞—Å—Ç–æ—è—â–∏–π –æ—Ç—á–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ Flutter-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è remalux-ar. –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ (AR) –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–æ–∫—Ä–∞—Å–∫–∏ —Å—Ç–µ–Ω, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é Dulux Visualizer. –¢–µ–∫—É—â–∏–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤ –∏ –≤–∏–¥–µ–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã—è–≤–∏–ª —Ä—è–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ, –Ω–æ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º, –Ω–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, —Å—Ç—Ä–∞–¥–∞—è –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è (ML).

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫. –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é, –ø–æ—à–∞–≥–æ–≤—É—é –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –≤ –Ω–∞–¥–µ–∂–Ω—ã–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –ø—Ä–æ–¥—É–∫—Ç. –û—Ç—á–µ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞ –≤—ã—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç–∏: –æ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, –≤—ã–∑—ã–≤–∞—é—â–∏—Ö —Å–±–æ–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏, –Ω–∞–∫–æ–Ω–µ—Ü, –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–æ—á–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ª–æ–∂–µ–Ω –¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –∑–∞–¥–∞—á–∞–º. –¶–µ–ª—å ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∞ –∑–∞–ª–æ–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏—Ç –µ–≥–æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.

### –ß–∞—Å—Ç—å I: –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Å–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Å–±–æ—è–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –†–µ—à–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º –¥–ª—è –ª—é–±–æ–≥–æ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

#### –†–∞–∑–¥–µ–ª 1.1: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–±–æ–µ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏ –æ—Ç–ª–∞–¥–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–µ—Ä–≤–æ–æ—á–µ—Ä–µ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –±–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ—à–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è google_fonts**

–õ–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ —è—Å–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Ñ–∞—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
`Exception: GoogleFonts.config.allowRuntimeFetching is false but font Ysabeau-Medium was not found in the application assets`

–≠—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –ø–∞–∫–µ—Ç `google_fonts` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Ç–µ—Ö —à—Ä–∏—Ñ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`allowRuntimeFetching: false`), –æ–¥–Ω–∞–∫–æ —Å–∞–º–∏ —Ñ–∞–π–ª—ã —à—Ä–∏—Ñ—Ç–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∞–∫—Ç–∏–≤–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞. –¢–∞–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–π –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–±–æ—Ä–æ–∫, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –∏—Å–∫–ª—é—á–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —à—Ä–∏—Ñ—Ç–æ–≤ –∏–∑ —Å–µ—Ç–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:** –î–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–µ —à—Ä–∏—Ñ—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1.  **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —à—Ä–∏—Ñ—Ç–æ–≤:** –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã —à—Ä–∏—Ñ—Ç–æ–≤ `Ysabeau-Medium` –∏ `Ysabeau-SemiBold` —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ Google Fonts. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.ttf`.
2.  **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∞—Å—Å–µ—Ç–æ–≤:** –í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `assets`, –∞ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ ‚Äî –ø–æ–¥–ø–∞–ø–∫—É `fonts`. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ `.ttf` —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `assets/fonts/`.
3.  **–î–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ –≤ `pubspec.yaml`:** –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `pubspec.yaml` –∏ –≤ —Å–µ–∫—Ü–∏–∏ `flutter` –æ–±—ä—è–≤–∏—Ç–µ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∞—Å—Å–µ—Ç–∞–º–∏ –∏ —Å–∞–º–∏ —à—Ä–∏—Ñ—Ç—ã. –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π —à–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏ Flutter –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–∫–ª—é—á–∏—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã –≤ –ø–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    ```yaml
    flutter:
      uses-material-design: true

      assets:
        - assets/images/
        - assets/ml/
        - assets/fonts/ # <-- –î–æ–±–∞–≤–∏—Ç—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É

      fonts:
        - family: Ysabeau
          fonts:
            - asset: assets/fonts/Ysabeau-Medium.ttf
              weight: 500
            - asset: assets/fonts/Ysabeau-SemiBold.ttf
              weight: 600
    ```
4.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `pubspec.yaml` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `flutter pub get` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —á—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫—É, –Ω–æ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∞—Å—Å–µ—Ç–∞–º–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥–µ–∂–Ω—ã—Ö Flutter-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–±–æ–µ–≤ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞ iOS**

–°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞ iOS, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–ª–∏–∑–∞, —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º —Å–∏–º–ø—Ç–æ–º–æ–º –ø—Ä–æ–±–ª–µ–º, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∞—Ç–∏–≤–Ω–æ–π —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞. –¢–∞–∫–∏–µ —Å–±–æ–∏ —á–∞—Å—Ç–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏ –∏–ª–∏ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–æ–µ —É—Å—É–≥—É–±–ª—è–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.

*   **–ì–∏–ø–æ—Ç–µ–∑–∞ 1: –û—à–∏–±–∫–∞ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –¥–µ–ª–µ–≥–∞—Ç–∞ TFLite GPU (Metal)**
    –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ª–µ–≥–∞—Ç–∞ Metal –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è TensorFlow Lite. –í –∫–æ–¥–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å `GpuDelegate`, —á—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ –ø–æ–ø—ã—Ç–∫–µ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `tflite_flutter` –∏ –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ GitHub –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç, —á—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ–ª–µ–≥–∞—Ç–∞ Metal ‚Äî —á–∞—Å—Ç–∞—è –ø—Ä–∏—á–∏–Ω–∞ —Å–±–æ–µ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏.

*   **–ì–∏–ø–æ—Ç–µ–∑–∞ 2: –ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**
    –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –æ–±—ä–µ–º –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. –í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏, –∫–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —Ç–æ–º—É, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑-–∑–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ (–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏):**
–î–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—è–≤–ª–µ–Ω–∏—è –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
1.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Podfile:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `ios/Podfile` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–∫–∞–∑–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `TensorFlowLiteSwift` —Å –ø–æ–¥-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π `Metal`. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã GPU –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ —Å–∫–æ–º–ø–æ–Ω–æ–≤–∞–Ω—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º.
    ```ruby
    # –í ios/Podfile
    pod 'TensorFlowLiteSwift', '~> 2.10.0', :subspecs => ['Metal']
    ```
2.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–±–æ—Ä–∫–∏ –≤ Xcode:** –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç iOS –≤ Xcode (`ios/Runner.xcworkspace`). –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Target Runner > Build Settings` –∏ –Ω–∞–π–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä **Strip Style**. –î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `Debug` –∏–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å `All Symbols` –Ω–∞ `Non-Global Symbols`. –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –¥–µ–ª–µ–≥–∞—Ç–∞ –≤–æ –≤—Ä–µ–º—è –æ—Ç–ª–∞–¥–∫–∏.
3.  **–ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã:** –í—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ –ª—é–±–æ–π –∫–æ–¥ –≤ Dart, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç `GpuDelegate` –≤ –æ–ø—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ TFLite. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `flutter clean` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏. –ï—Å–ª–∏ —Å–±–æ–π –ø—Ä–µ–∫—Ä–∞—Ç–∏–ª—Å—è, –ø—Ä–∏—á–∏–Ω–∞ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–µ–ª–µ–≥–∞—Ç–∞.
4.  **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç **Instruments** –≤ Xcode –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∑–∫–∏–µ —Å–∫–∞—á–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —É—Ç–µ—á–∫–∏ –∏–ª–∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö.

#### –†–∞–∑–¥–µ–ª 1.2: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ù–∞–ª–∏—á–∏–µ –¥–≤—É—Ö —Ñ–∞–π–ª–æ–≤, `wall_painter_screen.dart` –∏ `ar_wall_painter_screen_simple.dart`, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–∑–Ω–∞–∫–æ–º —Å–µ—Ä—å–µ–∑–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏. –¢–∞–∫–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–µ—Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω—ã–º, —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é.

**–ê–Ω–∞–ª–∏–∑ –∏ –≤—ã–±–æ—Ä –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

–û–±–∞ —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç–æ–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π —Å –ø–æ–º–æ—â—å—é TFLite. –§–∞–π–ª `ar_wall_painter_screen_simple.dart` (–±–æ–ª–µ–µ 1000 —Å—Ç—Ä–æ–∫) –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω—è—è –∏—Ç–µ—Ä–∞—Ü–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –±–æ–ª—å—à–µ –ª–æ–≥–∏–∫–∏, –Ω–æ –≤—Å–µ –µ—â–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ StatefulWidget. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–æ–π –∏–∑ —Ñ–∞–π–ª–æ–≤ —è–≤–ª—è–µ—Ç—Å—è "–∞–∫—Ç—É–∞–ª—å–Ω—ã–º", —Å–∞–º–∞ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º. –í—Å—è –ª–æ–≥–∏–∫–∞ ‚Äî –æ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–æ–π –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∂–µ—Å—Ç–æ–≤ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ ‚Äî —Å–º–µ—à–∞–Ω–∞ —Å –∫–æ–¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–æ–±–ª–µ–º–∞–º:
-   **–ú–∞—Å—Å–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è (State):** –ö–ª–∞—Å—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ–≥—Ä–æ–º–Ω—ã–º–∏ –∏ —Ç—Ä—É–¥–Ω—ã–º–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.
-   **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setState` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –Ω–∞ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä —Å –∫–∞–º–µ—Ä—ã –∏–ª–∏ –∫–∞–∂–¥–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø–∞–ª—å—Ü–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞–º –∏ –ø–∞–¥–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
-   **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å UI, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.
-   **–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏:** –í —Ç–∞–∫—É—é –∑–∞–ø—É—Ç–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫—Ä–∞–π–Ω–µ —Å–ª–æ–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ–Ω–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (Isolates), —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UI.

**–†–µ—à–µ–Ω–∏–µ: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "Feature-First" –∏ BLoC**

–ü—Ä–æ—Å—Ç–æ–µ —Å–ª–∏—è–Ω–∏–µ –¥–≤—É—Ö —Ñ–∞–π–ª–æ–≤ –Ω–µ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É. –ù–µ–æ–±—Ö–æ–¥–∏–º –ø–æ–ª–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥ "Feature-First", –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å—è –ª–æ–≥–∏–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, "–ø–æ–∫—Ä–∞—Å–∫–∞ —Å—Ç–µ–Ω"), –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–æ–¥—É–ª–µ. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —ç—Ç–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–∞—Ç—Ç–µ—Ä–Ω BLoC (Business Logic Component) –∏–ª–∏ –µ–≥–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç Cubit.

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –¥–ª—è –º–æ–¥—É–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ —Å—Ç–µ–Ω:
```
/lib/features/wall_painter/
‚îú‚îÄ‚îÄ bloc/
‚îÇ   ‚îú‚îÄ‚îÄ wall_painter_bloc.dart      # –°–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ wall_painter_event.dart     # –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è, –∏–Ω–∏—Ü–∏–∏—Ä—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ wall_painter_state.dart     # –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI
‚îú‚îÄ‚îÄ view/
‚îÇ   ‚îî‚îÄ‚îÄ wall_painter_screen.dart    # "–ì–ª—É–ø—ã–π" –≤–∏–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îú‚îÄ‚îÄ widgets/
‚îÇ   ‚îú‚îÄ‚îÄ ar_overlay_painter.dart     # CustomPainter –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–∞—Å–∫–∏ –∏ –∫—Ä–∞—Å–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ color_palette_widget.dart   # –í–∏–¥–∂–µ—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ segmentation_service.dart   # –°–µ—Ä–≤–∏—Å, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—â–∏–π –ª–æ–≥–∏–∫—É ML-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
-   **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** UI (view) –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (bloc). –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π (services) –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞ —Å ML-–º–æ–¥–µ–ª—å—é.
-   **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:** –í–º–µ—Å—Ç–æ —Ö–∞–æ—Ç–∏—á–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ `setState`, UI —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (`CameraInitial`, `ProcessingFrame`, `SegmentationSuccess`, `PaintingUpdated`). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –ª–µ–≥–∫–∏–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
-   **–ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** BLoC –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BlocBuilder` –¥–ª—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ —Ç–æ–ª—å–∫–æ —Ç–µ—Ö —á–∞—Å—Ç–µ–π UI, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞.
-   **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á:** `WallPainterBloc` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–¥–µ–∞–ª—å–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –≤—ã–∑–æ–≤–∞ `SegmentationService`, –∫–æ—Ç–æ—Ä—ã–π, –∫–∞–∫ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏, –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∏–∑–æ–ª—è—Ç–µ (Isolate).

–≠—Ç–æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –≤–∞–∂–Ω—ã–º —à–∞–≥–æ–º. –û–Ω –Ω–µ —Ç–æ–ª—å–∫–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –Ω–æ –∏ —Å–æ–∑–¥–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—É—é –æ—Å–Ω–æ–≤—É, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ AR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### –ß–∞—Å—Ç—å II: –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π)

–ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–ª–µ–¥—É—é—â–µ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ "–∑–∞–≤–∏—Å–∞–Ω–∏—é" –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI jank) –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

#### –†–∞–∑–¥–µ–ª 2.1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Dart Isolates

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å—è —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∞—è –ª–æ–≥–∏–∫–∞, –≤–∫–ª—é—á–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –∑–∞–ø—É—Å–∫ ML-–º–æ–¥–µ–ª–∏ (`_processCameraImageForAI`), –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ Dart. –≠—Ç–æ—Ç –ø–æ—Ç–æ–∫ —Ç–∞–∫–∂–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ö–æ–≥–¥–∞ –≤ –Ω–µ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ª—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª—å—à–µ 16 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥), –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä, —á—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ "—Ç–æ—Ä–º–æ–∑–∞" –∏ "–∑–∞–≤–∏—Å–∞–Ω–∏—è".

**–†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏**

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –¥–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á –≤–æ Flutter —è–≤–ª—è–µ—Ç—Å—è –≤—ã–Ω–æ—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏–∑–æ–ª—è—Ç (Isolate). –ò–∑–æ–ª—è—Ç—ã –≤ Dart ‚Äî —ç—Ç–æ –º–æ–¥–µ–ª—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞, –ø–æ—Ö–æ–∂–∞—è –Ω–∞ –ø–æ—Ç–æ–∫–∏, –Ω–æ —Å –∫–ª—é—á–µ–≤—ã–º –æ—Ç–ª–∏—á–∏–µ–º: –æ–Ω–∏ –Ω–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç –ø–∞–º—è—Ç—å. –ö–∞–∂–¥—ã–π –∏–∑–æ–ª—è—Ç –∏–º–µ–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫—É—á—É –ø–∞–º—è—Ç–∏ –∏ –æ–±—â–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–∑–æ–ª—è—Ç–∞–º–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞—á—É —Å–æ–æ–±—â–µ–Ω–∏–π. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≥–æ–Ω–∫–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–π –≤ –ß–∞—Å—Ç–∏ I –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –≤—Å—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–¥—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `SegmentationService`. –≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é `Isolate.run` (–∏–ª–∏ `compute` –∏–∑ –ø–∞–∫–µ—Ç–∞ `flutter/foundation`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –µ–µ —É–¥–æ–±–Ω–æ–π –æ–±–µ—Ä—Ç–∫–æ–π) –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

*   **SegmentationService:** –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `processImage`. –í–Ω—É—Ç—Ä–∏ –æ–Ω –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑–æ–ª—è—Ç.
    ```dart
    // /lib/features/wall_painter/services/segmentation_service.dart
    import 'dart:isolate';
    import 'package:camera/camera.dart';
    import 'package:remalux_ar/models/segmentation_result.dart'; // –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —ç—Ç—É –º–æ–¥–µ–ª—å

    class SegmentationService {
      Future<SegmentationResult?> processImage(CameraImage image) async {
        // Isolate.run - –∏–¥–µ–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏ –≤ —Ñ–æ–Ω–µ.
        // –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º, –ø–µ—Ä–µ–¥–∞—á–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –∏–∑–æ–ª—è—Ç–∞.
        try {
          return await Isolate.run(() => _isolateEntryPoint(image));
        } catch (e) {
          print("–û—à–∏–±–∫–∞ –≤ –∏–∑–æ–ª—è—Ç–µ: $e");
          return null;
        }
      }
    }

    // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–∏–±–æ top-level, –ª–∏–±–æ static, —á—Ç–æ–±—ã –µ–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –∏–∑–æ–ª—è—Ç–µ.
    SegmentationResult _isolateEntryPoint(CameraImage image) {
      // –í–ê–ñ–ù–û: –í–µ—Å—å –∫–æ–¥ –∑–¥–µ—Å—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∏–∑–æ–ª—è—Ç–µ.
      // 1. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ YUV –≤ RGB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥).
      final rgbImage = convertYuvToRgb(image);

      // 2. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –º–æ–¥–µ–ª–∏ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è).
      final inputTensor = preprocessImage(rgbImage);

      // 3. –ó–∞–ø—É—Å–∫ TFLite –º–æ–¥–µ–ª–∏ (—ç—Ç–æ—Ç –∫–æ–¥ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—é–¥–∞).
      // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∏–∑–æ–ª—è—Ç–∞
      // –∏–ª–∏ –µ–≥–æ –∞–¥—Ä–µ—Å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∏–∑–æ–ª—è—Ç. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –ø–æ–∫–∞–∂–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ "–Ω–∞ –ª–µ—Ç—É".
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
      final output = runInference(inputTensor);

      // 4. –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å–∫–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏.
      final processedMask = postprocessMask(output);

      // 5. –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
      return SegmentationResult(mask: processedMask);
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (convertYuvToRgb, preprocessImage –∏ —Ç.–¥.) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∑–¥–µ—Å—å –∂–µ.
    ```

*   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BLoC:** `WallPainterBloc` –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–∂–∏–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è UI.
    ```dart
    // /lib/features/wall_painter/bloc/wall_painter_bloc.dart
    on<CameraFrameReceived>((event, emit) async {
      // "–í–æ—Ä–æ—Ç–∞" –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞.
      // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–æ–≤—ã–π –∫–∞–¥—Ä —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –∑–∞–Ω—è—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ.
      if (state.isProcessing) return;

      emit(state.copyWith(isProcessing: true));

      final segmentationResult = await _segmentationService.processImage(event.cameraImage);

      if (segmentationResult!= null) {
        emit(state.copyWith(
          isProcessing: false,
          segmentationMask: segmentationResult.mask,
        ));
      } else {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
        emit(state.copyWith(isProcessing: false, error: "Failed to process frame"));
      }
    });
    ```
–≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UI –∏ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Flutter, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

#### –†–∞–∑–¥–µ–ª 2.2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ YUV –≤ RGB –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –∏ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–∞ –æ—à–∏–±–∫–∞–º. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø–æ—Ç–æ–∫–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –∫–∞–º–µ—Ä—ã, —á—Ç–æ –≤–µ–¥–µ—Ç –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏.

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ YUV –≤ RGB**

–§–æ—Ä–º–∞—Ç `YUV420`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–≥–∏–Ω `camera`, —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –¥–ª—è –∫–∞–º–µ—Ä –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π: Y (—è—Ä–∫–æ—Å—Ç—å) –∏ –¥–≤–µ —Ü–≤–µ—Ç–æ—Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–µ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ U –∏ V —Å —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º. –ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ RGB —Å –ø–æ–º–æ—â—å—é –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ –≤ Dart –º–µ–¥–ª–µ–Ω–Ω–∞. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, —Ç–µ–∫—É—â–∏–π –∫–æ–¥ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–∞–∂–Ω—É—é –¥–µ—Ç–∞–ª—å: `bytesPerRow` (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –≤ —Å—Ç—Ä–æ–∫–µ) –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ, —á–µ–º —à–∏—Ä–∏–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ (padding), –∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ —Ñ–∞–∫—Ç–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏—Å–∫–∞–∂–µ–Ω–∏—è–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—ç—Ñ—Ñ–µ–∫—Ç "–ø–æ–ª–æ—Å") –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
1.  **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Dart:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—è `image.planes[i].bytesPerRow` –≤–º–µ—Å—Ç–æ `image.width` –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ —Å–º–µ—â–µ–Ω–∏—è –≤ –±—É—Ñ–µ—Ä–µ –±–∞–π—Ç–æ–≤. –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç –æ—à–∏–±–∫—É —Å –∏—Å–∫–∞–∂–µ–Ω–∏—è–º–∏. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.
    ```dart
    // –ü—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∏–∑–æ–ª—è—Ç–∞
    import 'package:image/image.dart' as imglib;

    imglib.Image convertYuvToRgb(CameraImage image) {
      final int width = image.width;
      final int height = image.height;
      final int yRowStride = image.planes[0].bytesPerRow;
      final int uvRowStride = image.planes[1].bytesPerRow;
      final int uvPixelStride = image.planes[1].bytesPerPixel!;

      final yBuffer = image.planes[0].bytes;
      final uBuffer = image.planes[1].bytes;
      final vBuffer = image.planes[2].bytes;

      var img = imglib.Image(width, height);

      for (int y = 0; y < height; y++) {
        final int uvRow = (y / 2).floor();
        final int yRow = y;

        for (int x = 0; x < width; x++) {
          final int uvCol = (x / 2).floor();
          
          final int yIndex = yRow * yRowStride + x;
          
          final int uIndex = uvRow * uvRowStride + uvCol * uvPixelStride;
          final int vIndex = uIndex; // –í NV21/NV12 U –∏ V —á–µ—Ä–µ–¥—É—é—Ç—Å—è, –¥–ª—è YUV420 –æ–Ω–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–ª–æ—Å–∫–æ—Å—Ç—è—Ö, –Ω–æ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏
          
          final int yValue = yBuffer[yIndex];
          final int uValue = uBuffer[uIndex];
          final int vValue = vBuffer[vIndex];
          
          // –§–æ—Ä–º—É–ª—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ YUV –≤ RGB (–º–æ–≥—É—Ç –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)
          int r = (yValue + 1.13983 * (vValue - 128)).round();
          int g = (yValue - 0.39465 * (uValue - 128) - 0.58060 * (vValue - 128)).round();
          int b = (yValue + 2.03211 * (uValue - 128)).round();

          img.setPixelRgba(x, y, r.clamp(0, 255), g.clamp(0, 255), b.clamp(0, 255), 255);
        }
      }
      return img;
    }
    ```
2.  **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–¥–ª—è –±—É–¥—É—â–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):**
    -   **–ù–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ (C/C++):** –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ CPU –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `dart:ffi` –¥–ª—è –≤—ã–∑–æ–≤–∞ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `libyuv` –æ—Ç Google —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ç–∞–∫–∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SIMD-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (NEON –Ω–∞ ARM), —á—Ç–æ –¥–∞–µ—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Dart.
    -   **GPU-—à–µ–π–¥–µ—Ä—ã:** –í —Å–∞–º—ã—Ö —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é YUV –≤ RGB –ø—Ä—è–º–æ –Ω–∞ GPU —Å –ø–æ–º–æ—â—å—é –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ GLSL-—à–µ–π–¥–µ—Ä–∞. –≠—Ç–æ —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π, –Ω–æ –∏ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø–æ–¥—Ö–æ–¥.

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –∏ –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö**

–ü–ª–∞–≥–∏–Ω `camera` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ `CameraImage` —Å –≤—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç–æ–π (–æ–±—ã—á–Ω–æ 30 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É). –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä, —á—Ç–æ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ –∏ –≤—Ä–µ–¥–Ω–æ. –ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –∫–∞–¥—Ä–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 –º—Å –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–∏ 30 –∫/—Å), –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ `CameraImage` –±—É–¥—É—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è –≤ –ø–∞–º—è—Ç–∏, —á—Ç–æ –Ω–µ–∏–∑–±–µ–∂–Ω–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Å–±–æ—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º "–¥—Ä–æ—Å—Å–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è" –∏–ª–∏ "—à–ª—é–∑–∞". –ü–∞—Ç—Ç–µ—Ä–Ω, –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø—Ä–∏–º–µ—Ä–µ —Å BLoC, —É–∂–µ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É:
```dart
if (state.isProcessing) return;
emit(state.copyWith(isProcessing: true));
//... –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞...
final result = await _segmentationService.processImage(event.cameraImage);
emit(state.copyWith(isProcessing: false, ...));
```
–≠—Ç–æ—Ç –ø—Ä–æ—Å—Ç–æ–π —Ñ–ª–∞–≥ `isProcessing` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–æ–≤—ã–π –∫–∞–¥—Ä –Ω–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É, –ø–æ–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –Ω–µ –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ—Ç—Ä–µ–±–ª—è—è —Ä–µ—Å—É—Ä—Å—ã –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.

### –ß–∞—Å—Ç—å III: –Ø–¥—Ä–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–∞–º–æ–≥–æ —Å–µ—Ä–¥—Ü–∞ AR-—Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∫–æ–Ω–≤–µ–π–µ—Ä–∞ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–≤–µ—Ä–Ω—É—é –º–æ–¥–µ–ª—å –∏ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

#### –†–∞–∑–¥–µ–ª 3.1: –í—ã–±–æ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –º–æ–¥–µ–ª–µ–π (`.tflite`, `.onnx`), –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤ –∫–æ–¥–µ –º–æ–¥–µ–ª—å `1.tflite` —Å –±–æ–ª—å—à–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∑–∞–¥–∞—á–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä `wallClassIndex` (–∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞ "—Å—Ç–µ–Ω–∞") –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º.

**–†–µ—à–µ–Ω–∏–µ: –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤**

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑ –∏–º–µ—é—â–∏—Ö—Å—è –º–æ–¥–µ–ª–µ–π –∏ –≤—ã–±—Ä–∞—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é.

**–¢–∞–±–ª–∏—Ü–∞ 1: –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º–æ–¥–µ–ª–µ–π –≤ `/assets/ml/`**

| –ò–º—è —Ñ–∞–π–ª–∞                      | –†–∞–∑–º–µ—Ä    | –í—Ö–æ–¥–Ω–æ–π —Ç–µ–Ω–∑–æ—Ä | –í—ã—Ö–æ–¥–Ω–æ–π —Ç–µ–Ω–∑–æ—Ä | –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –¥–∞—Ç–∞—Å–µ—Ç | –ü—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç—å –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω                                                                                         |
| ------------------------------ | --------- | -------------- | --------------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| `1.tflite`                       | 2.1 MB    | \`[1 224 224 3]\` | \`[1 21]\`        | PASCAL VOC (21 –∫–ª–∞—Å—Å)  | **–ù–∏–∑–∫–∞—è.** –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å "—Å—Ç–µ–Ω–∞".                                                                                    |
| `deeplabv3_mnv2_ade20k_1.tflite` | 5.2 **MB** | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ     | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ      | ADE20K (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ) | **–í—ã—Å–æ–∫–∞—è (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏).** –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –≤–∞–ª–∏–¥–Ω–∞, —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç. –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–≤–µ—Ä–æ—è—Ç–Ω–æ, 5.2 –ú–ë) —Ç–∏–ø–∏—á–µ–Ω –¥–ª—è —Ç–∞–∫–æ–π –º–æ–¥–µ–ª–∏. |
| `model.onnx`                     | 14 MB     | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ     | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ      | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ             | **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞.** –§–æ—Ä–º–∞—Ç ONNX —Ç—Ä–µ–±—É–µ—Ç –¥—Ä—É–≥–æ–≥–æ —Ä–∞–Ω—Ç–∞–π–º–∞, –∞ –Ω–µ TFLite.                                                        |
| `segformer.tflite`               | 197 KB    | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ     | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ      | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ             | **–í—ã—Å–æ–∫–∞—è.** SegFormer ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞. –ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä –¥–µ–ª–∞–µ—Ç –µ–µ –æ—Ç–ª–∏—á–Ω—ã–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. |

**–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `wallClassIndex`:**

–ö–ª—é—á–µ–≤—ã–º –º–æ–º–µ–Ω—Ç–æ–º –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –∫–ª–∞—Å—Å–∞ –¥–ª—è —Å—Ç–µ–Ω. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –¥–ª—è –∑–∞–¥–∞—á —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ü–µ–Ω, –≤–∫–ª—é—á–∞—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å—Ç–µ–Ω, –ø–æ–ª–æ–≤ –∏ –ø–æ—Ç–æ–ª–∫–æ–≤, —è–≤–ª—è—é—Ç—Å—è –º–æ–¥–µ–ª–∏, –æ–±—É—á–µ–Ω–Ω—ã–µ –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ **ADE20K**, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–∞ –µ–≥–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–µ SceneParse150.

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —ç—Ç–æ–≥–æ –±–µ–Ω—á–º–∞—Ä–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª `objectInfo150.txt`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–ª–∞—Å—Å–æ–≤. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–ø—Ä–æ–≤–µ—Ä–∂–∏–º—ã–º –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º:
```
Idx Ratio Train Val Name
1   0.1576 11664 1172 wall
2   0.1072 6046  612  building, edifice
3   0.0878 8265  796  sky
...
```
**–í—ã–≤–æ–¥:** –î–ª—è –ª—é–±–æ–π –º–æ–¥–µ–ª–∏, –æ–±—É—á–µ–Ω–Ω–æ–π –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –±–µ–Ω—á–º–∞—Ä–∫–µ ADE20K SceneParse150, **–∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞ "wall" (—Å—Ç–µ–Ω–∞) —Ä–∞–≤–µ–Ω 1**. –ò–Ω–¥–µ–∫—Å 0 –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ñ–æ–Ω–∞ –∏–ª–∏ "–¥—Ä—É–≥–∏—Ö" –æ–±—ä–µ–∫—Ç–æ–≤. –í –∫–æ–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∂–µ—Å—Ç–∫–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å: `const int wallClassIndex = 1;`.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1.  **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å ADE20K:** –ü–µ—Ä–≤–æ–æ—á–µ—Ä–µ–¥–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞ `deeplabv3_mnv2_ade20k_1.tflite`. –ï—Å–ª–∏ –æ–Ω –Ω–µ–∏—Å–ø—Ä–∞–≤–µ–Ω, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–π—Ç–∏ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å DeepLabV3 –∏–ª–∏ SegFormer –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ ADE20K.
2.  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `segformer.tflite`:** –ï—Å–ª–∏ –º–æ–¥–µ–ª—å `segformer.tflite` –æ–∫–∞–∂–µ—Ç—Å—è —Ä–∞–±–æ—á–µ–π –∏ –æ–±—É—á–µ–Ω–Ω–æ–π –Ω–∞ ADE20K, –æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –∏–∑-–∑–∞ —Å–≤–æ–µ–≥–æ –º–∞–ª–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏ –≤—ã—Å–æ–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
3.  **–ò–Ω—Å–ø–µ–∫—Ü–∏—è –º–æ–¥–µ–ª–∏:** –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–¥–Ω—ã—Ö/–≤—ã—Ö–æ–¥–Ω—ã—Ö —Ç–µ–Ω–∑–æ—Ä–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ª—é–±–æ–π `.tflite` –º–æ–¥–µ–ª–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ç–∞–∫–æ–π –∫–∞–∫ **Netron**.

#### –†–∞–∑–¥–µ–ª 3.2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é GPU-–¥–µ–ª–µ–≥–∞—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç ML-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ (CPU), —á—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ, —ç–Ω–µ—Ä–≥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–∞–≥—Ä–µ–≤—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è GPU-–¥–µ–ª–µ–≥–∞—Ç–æ–≤ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ –Ω–µ—É–¥–∞—á–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ –≤–∫–ª—é—á–∏—Ç—å –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ.

**–†–µ—à–µ–Ω–∏–µ: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ TFLite Delegates**

–î–µ–ª–µ–≥–∞—Ç—ã ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –≤ TensorFlow Lite, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≥—Ä–∞—Ñ–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —É—Å–∫–æ—Ä–∏—Ç–µ–ª–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ GPU (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä) –∏–ª–∏ NPU (–Ω–µ–π—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –∏ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU.

*   **Android (GPU Delegate):**
    –ù–∞ Android –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π GPU-–¥–µ–ª–µ–≥–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ OpenGL ES –∏–ª–∏ OpenCL. –ï–≥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞:
    ```dart
    import 'package:flutter/foundation.dart';
    import 'package:tflite_flutter/tflite_flutter.dart';

    Future<Interpreter> _loadModel() async {
      final options = InterpreterOptions();

      // –í–∫–ª—é—á–∞–µ–º GPU –¥–µ–ª–µ–≥–∞—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è Android
      if (defaultTargetPlatform == TargetPlatform.android) {
        options.addDelegate(GpuDelegateV2());
      }

      // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –¥–ª—è iOS ...

      return await Interpreter.fromAsset('path/to/your/model.tflite', options: options);
    }
    ```

*   **iOS (Metal Delegate):**
    –ù–∞ iOS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ–ª–µ–≥–∞—Ç Metal, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Ç–∏–≤–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –∏ –∫—Ä—ã–ª–∞—Å—å –ø—Ä–∏—á–∏–Ω–∞ —Å–±–æ–µ–≤ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏.
    1.  **–ù–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∏–∑ –†–∞–∑–¥–µ–ª–∞ 1.1):**
        -   **Podfile:** –í —Ñ–∞–π–ª–µ `ios/Podfile` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —è–≤–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ø–æ–¥-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é `Metal` –¥–ª—è –ø–æ–¥–∞ `TensorFlowLiteSwift`.
        -   **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Xcode:** –í `Build Settings` –¥–ª—è `Runner` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `Strip Style` –≤ `Non-Global Symbols` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `Debug`.
    2.  **–ö–æ–¥ –Ω–∞ Dart:** –ö–æ–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–ª–µ–≥–∞—Ç–∞ –Ω–∞ iOS –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω.
        ```dart
        import 'package:flutter/foundation.dart';
        import 'package:tflite_flutter/tflite_flutter.dart';

        Future<Interpreter> _loadModel() async {
          final options = InterpreterOptions();

          if (defaultTargetPlatform == TargetPlatform.android) {
            options.addDelegate(GpuDelegateV2());
          }
          // –í–∫–ª—é—á–∞–µ–º Metal –¥–µ–ª–µ–≥–∞—Ç –¥–ª—è iOS
          else if (defaultTargetPlatform == TargetPlatform.iOS) {
            options.addDelegate(GpuDelegate());
          }

          return await Interpreter.fromAsset('path/to/your/model.tflite', options: options);
        }
        ```

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–µ–ª–µ–≥–∞—Ç–∞ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –Ω–∞ Dart. –≠—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –°–±–æ–∏ –Ω–∞ iOS –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Å–≤—è–∑–∞–Ω—ã —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (`TensorFlowLiteCMetal.framework`) –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–æ–º–ø–æ–Ω–æ–≤—â–∏–∫–∞ Xcode. –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–±–æ—è –≤ –æ—Ç–ª–∞–¥–∫–µ (–†–∞–∑–¥–µ–ª 1.1) –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è GPU-—É—Å–∫–æ—Ä–µ–Ω–∏—è ‚Äî —ç—Ç–æ, –ø–æ —Å—É—Ç–∏, –¥–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã –æ–¥–Ω–æ–π –º–µ–¥–∞–ª–∏.

### –ß–∞—Å—Ç—å IV: –†–µ–Ω–¥–µ—Ä–∏–Ω–≥, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 –∏ 3)

–í —ç—Ç–æ–º –∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –≤–æ–ø—Ä–æ—Å—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –æ–ø—ã—Ç–æ–º: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ AR-–∫–æ–Ω—Ç–µ–Ω—Ç–∞, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∫–∏ "–ø–æ–∫—Ä–∞—Å–∫–∏ –ø–æ –∫–∞—Å–∞–Ω–∏—é" –∏ –æ–±—â–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### –†–∞–∑–¥–µ–ª 4.1: –û—Å–≤–æ–µ–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
-   –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–∞–º–µ—Ä—ã: –ò—Å—Ö–æ–¥–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–µ–Ω—Å–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4032x3024).
-   –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—ã—Ö–æ–¥–Ω–æ–π –º–∞—Å–∫–∏ –º–æ–¥–µ–ª–∏: –ù–∏–∑–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 65x65).
-   –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–∏–¥–∂–µ—Ç–∞ `CameraPreview`: –†–∞–∑–º–µ—Ä –∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
-   –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Å–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç–∫—Ä–∞–Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (`scaleX = screenWidth / outputWidth`) —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞–π–Ω–µ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∏ –Ω–µ–≤–µ—Ä–Ω–æ–π, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–∏ —Å—Ç–æ—Ä–æ–Ω (aspect ratio) –º–µ–∂–¥—É –∫–∞–º–µ—Ä–æ–π –∏ —ç–∫—Ä–∞–Ω–æ–º. –í–∏–¥–∂–µ—Ç `CameraPreview` –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ª–∏–±–æ –æ–±—Ä–µ–∑–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ª–∏–±–æ –¥–æ–±–∞–≤–ª—è–µ—Ç —á–µ—Ä–Ω—ã–µ –ø–æ–ª–æ—Å—ã (letterboxing/pillarboxing), –ª–∏–±–æ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç –µ–≥–æ, –∏—Å–∫–∞–∂–∞—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏. –ü—Ä–æ—Å—Ç–æ–µ –ª–∏–Ω–µ–π–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ: –ü–æ—à–∞–≥–æ–≤—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**

–î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞—Å–∞–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å –ø–∏–∫—Å–µ–ª–µ–º –Ω–∞ –º–∞—Å–∫–µ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.
1.  **–ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –≤–∏–¥–∂–µ—Ç–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `GlobalKey`, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –≤–∏–¥–∂–µ—Ç—É, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç `CameraPreview`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ `RenderBox`. –≠—Ç–æ –¥–∞–µ—Ç —Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–∏–∫—Å–µ–ª—è—Ö.
2.  **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –∫–∞–º–µ—Ä—ã –∏ —ç–∫—Ä–∞–Ω–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–Ω–∞—Ç—å —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
    -   –†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: `MediaQuery.of(context).size`.
    -   –†–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞ `CameraPreview`: `(previewKey.currentContext.findRenderObject() as RenderBox).size`.
    -   –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–∞–º–µ—Ä—ã: `_cameraController.value.aspectRatio`.
3.  **–†–∞—Å—á–µ—Ç –º–∞—Å—à—Ç–∞–±–∞ –∏ —Å–º–µ—â–µ–Ω–∏—è:** –≠—Ç–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —à–∞–≥. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—á–∏—Å–ª–∏—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∫–∞–º–µ—Ä—ã –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –≤–∏–¥–∂–µ—Ç `CameraPreview`. –ï—Å–ª–∏ `CameraPreview` –æ–±–µ—Ä–Ω—É—Ç –≤ `AspectRatio` –∏ `FittedBox` —Å `fit: BoxFit.cover` (—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é), —Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–æ —Ç–∞–∫, —á—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∂–µ—Ç–∞, –ø—Ä–∏ —ç—Ç–æ–º —á–∞—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã–π–¥–µ—Ç –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª—ã (–±—É–¥–µ—Ç –æ–±—Ä–µ–∑–∞–Ω–∞).
4.  **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–∞—Å–∞–Ω–∏—è:** –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞—Å–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω–∞ (`onTapDown`), –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞—Å–∞–Ω–∏—è (x, y) –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∏–¥–∂–µ—Ç–∞ `CameraPreview`.
5.  **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –º–æ–¥–µ–ª–∏:** –ó–∞—Ç–µ–º —ç—Ç–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å —É—á–µ—Ç–æ–º –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–∞ –∏ —Å–º–µ—â–µ–Ω–∏—è, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ –Ω–∏–∑–∫–æ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–π –º–∞—Å–∫–µ –º–æ–¥–µ–ª–∏.

**–ü—Ä–∏–º–µ—Ä —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:**
```dart
Offset? screenToModelCoordinates({
  required Offset screenTapPosition,
  required GlobalKey previewKey,
  required Size cameraImageSize, // –Ω–∞–ø—Ä–∏–º–µ—Ä, 1920x1080
  required Size modelOutputSize, // –Ω–∞–ø—Ä–∏–º–µ—Ä, 65x65
  required BuildContext context,
}) {
  final RenderBox? renderBox = previewKey.currentContext?.findRenderObject() as RenderBox?;
  if (renderBox == null) return null;

  final Offset localTapPosition = renderBox.globalToLocal(screenTapPosition);
  final Size previewSize = renderBox.size;

  final cameraAspectRatio = cameraImageSize.width / cameraImageSize.height;
  final previewAspectRatio = previewSize.width / previewSize.height;

  double scaleX, scaleY;
  Offset offset = Offset.zero;

  // –†–∞—Å—á–µ—Ç –¥–ª—è BoxFit.cover
  if (previewAspectRatio > cameraAspectRatio) {
    scaleY = previewSize.height / (previewSize.width / cameraAspectRatio);
    scaleX = previewSize.width;
    offset = Offset(0, (previewSize.height - scaleY) / 2);
  } else {
    scaleX = previewSize.width / (previewSize.height * cameraAspectRatio);
    scaleY = previewSize.height;
    offset = Offset((previewSize.width - scaleX) / 2, 0);
  }
  
  final logicalX = (localTapPosition.dx - offset.dx) / scaleX;
  final logicalY = (localTapPosition.dy - offset.dy) / scaleY;

  if (logicalX < 0 || logicalX > 1 || logicalY < 0 || logicalY > 1) {
    return null; // –ö–∞—Å–∞–Ω–∏–µ –≤–Ω–µ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏ –∫–∞–º–µ—Ä—ã
  }

  final modelX = (logicalX * modelOutputSize.width).floor();
  final modelY = (logicalY * modelOutputSize.height).floor();

  return Offset(modelX.toDouble(), modelY.toDouble());
}
```

#### –†–∞–∑–¥–µ–ª 4.2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è "–ø–æ–∫—Ä–∞—Å–∫–∏ –ø–æ –∫–∞—Å–∞–Ω–∏—é" —Å –ø–æ–º–æ—â—å—é –∑–∞–ª–∏–≤–∫–∏ (Flood Fill)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ —Å—Ç–µ–Ω—ã –±—É–¥–µ—Ç –∑–∞–∫—Ä–∞—à–µ–Ω–∞ –≤—Å—è –≤–∏–¥–∏–º–∞—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —ç—Ç–æ–π —Å—Ç–µ–Ω—ã, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–æ—á–∫–∞ –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–æ–π —É—á–∞—Å—Ç–æ–∫.

**–†–µ—à–µ–Ω–∏–µ: –ê–ª–≥–æ—Ä–∏—Ç–º –∑–∞–ª–∏–≤–∫–∏ –Ω–∞ –º–∞—Å–∫–µ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏**

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∑–∞–ª–∏–≤–∫–∏ (Flood Fill), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ 2D-–º–∞—Å—Å–∏–≤–µ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–º –º–∞—Å–∫—É —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏.
1.  **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –Ω–∞ –º–∞—Å–∫–µ:** –ü—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ —ç–∫—Ä–∞–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `screenToModelCoordinates` –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã `(mx, my)` –Ω–∞ –º–∞—Å–∫–µ `65x65`.
2.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Å–∞:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —ç—Ç–æ–π —Ç–æ—á–∫–µ –º–∞—Å–∫–∏: `if (segmentationMask[my][mx] == wallClassIndex)`.
3.  **–ó–∞–ø—É—Å–∫ –∑–∞–ª–∏–≤–∫–∏:** –ï—Å–ª–∏ –∫–∞—Å–∞–Ω–∏–µ –ø—Ä–∏—à–ª–æ—Å—å –Ω–∞ —Å—Ç–µ–Ω—É, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–ª–∏–≤–∫–∏ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É ‚Äî BFS) –∏–∑ —Ç–æ—á–∫–∏ `(mx, my)`. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏–ª–∏ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π —Ç–æ—á–∫–∏, –¥–æ–±–∞–≤–ª—è—è –∏—Ö –≤ –æ–±–ª–∞—Å—Ç—å –∑–∞–ª–∏–≤–∫–∏, –µ—Å–ª–∏ –æ–Ω–∏ —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∫–ª–∞—Å—Å—É `wallClassIndex`.
4.  **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø–æ–∫—Ä–∞—Å–∫–∏:** –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–±–æ—Ä –≤—Å–µ—Ö —Ç–æ—á–µ–∫ `(x, y)` –Ω–∞ –º–∞—Å–∫–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É —Å—Ç–µ–Ω—ã.
5.  **–û—Ç—Ä–∏—Å–æ–≤–∫–∞:** –≠—Ç–æ—Ç –Ω–∞–±–æ—Ä —Ç–æ—á–µ–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `CustomPainter`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Ü–≤–µ—Ç–Ω–æ–π –æ–≤–µ—Ä–ª–µ–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É—è —ç—Ç–∏ –Ω–∏–∑–∫–æ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–æ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞.

#### –†–∞–∑–¥–µ–ª 4.3: –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏—è—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫—Ä–∞—Å–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ò—Å–ø–æ–ª—å–∑—É—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É BLoC, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤: `WallNotDetected` (–∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å—Ç–µ–Ω—É –≤ –∫–∞–¥—Ä–µ), `CameraPermissionDenied`, `ModelLoadFailed` –∏ —Ç.–¥. –ù–∞ –∫–∞–∂–¥–æ–µ –∏–∑ —ç—Ç–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π UI –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å SnackBar —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º, –≤—ã–≤–æ–¥–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –æ–≤–µ—Ä–ª–µ–µ –∏–ª–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–¥–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã).
-   **–†–µ–∂–∏–º—ã –Ω–∞–ª–æ–∂–µ–Ω–∏—è (Blend Modes):** –ü—Ä–æ—Å—Ç–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–ª–æ—à–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –ø–æ–≤–µ—Ä—Ö –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ. –ß—Ç–æ–±—ã –¥–æ–±–∏—Ç—å—Å—è –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞, –≤ `CustomPainter` –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏ —Ü–≤–µ—Ç–Ω–æ–π –º–∞—Å–∫–∏ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º—ã –Ω–∞–ª–æ–∂–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä:
    -   `BlendMode.multiply`: –∑–∞—Ç–µ–º–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è —Ç–µ–º–Ω–æ–π –∫—Ä–∞—Å–∫–∏.
    -   `BlendMode.overlay` –∏–ª–∏ `BlendMode.softLight`: –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —Ü–≤–µ—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–≤–µ—Ç –∏ —Ç–µ–Ω–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–µ–Ω—ã, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –±–æ–ª–µ–µ –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–∫—Ä–∞—Å–∫–∏.

#### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è remalux-ar –≤—ã—è–≤–∏–ª —Ä—è–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –¥–µ–ª–∞—é—Ç —Ç–µ–∫—É—â—É—é –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π, –Ω–µ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–π –∏ –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω–æ–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è. –û–¥–Ω–∞–∫–æ –≤—Å–µ –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —è–≤–ª—è—é—Ç—Å—è —Ä–µ—à–∞–µ–º—ã–º–∏ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Å–≤–µ—Å—Ç–∏ –∫ —Ç—Ä–µ–º –æ—Å–Ω–æ–≤–Ω—ã–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º:
1.  **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–±–æ–µ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –∏–∑–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ BLoC.
2.  **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞:** –í—ã–Ω–æ—Å –≤—Å–µ–π —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ `Isolate` –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è GPU-—É—Å–∫–æ—Ä–µ–Ω–∏—è.
3.  **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ML-–ø–∞–π–ø–ª–∞–π–Ω–∞ –∏ AR-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π ML-–º–æ–¥–µ–ª–∏, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–æ—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ —É–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π.

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤, –∏–∑–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –¥–∞–Ω–Ω–æ–º –æ—Ç—á–µ—Ç–µ, –ø–æ–∑–≤–æ–ª–∏—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ, —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Ü–µ–ª–∏ ‚Äî —Å–æ–∑–¥–∞–Ω–∏—é –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞ Dulux Visualizer.

---

## 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ü–ª–∞–Ω–∞ (–∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞)

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç –≤—Ç–æ—Ä–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞–Ω.

**‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –∞–Ω–∞–ª–∏–∑–∞ AR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ —Å—Ç–µ–Ω**

**–î–∞, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –ø–ª–∞–Ω –∞–Ω–∞–ª–∏–∑–∞ –≤—ã–≥–ª—è–¥–∏—Ç –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º –∏ —è —Å –Ω–∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω.** –û–Ω –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã (–∫–∞—á–µ—Å—Ç–≤–æ AR-—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º Dulux Visualizer –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è) –∏ –¥–∞—ë—Ç —á—ë—Ç–∫–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ **remalux\_ar**. –ù–∏–∂–µ ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∏ –Ω–µ–±–æ–ª—å—à–∏–º–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏:

### 1. –§–æ–∫—É—Å –Ω–∞ AR-—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω –∏ –ø–æ–∫—Ä–∞—Å–∫–µ (–∞–Ω–∞–ª–æ–≥ **Dulux Visualizer**)

–í—ã —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏, —á—Ç–æ **–æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ —Ç–æ—á–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å—Ç–µ–Ω –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –∫—Ä–∞—Å–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**. –ò–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–æ–º —Å—Ç–æ–∏—Ç —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å —É—Å–∏–ª–∏–π –∞–Ω–∞–ª–∏–∑–∞. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –≤–∞–∂–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∏–∑ —É–ø–æ–º—è–Ω—É—Ç—ã—Ö –ø–æ–¥-–∑–∞–¥–∞—á:

*   **–¢–æ—á–Ω–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å—Ç–µ–Ω—ã:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ AI-–º–æ–¥–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ **—Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –æ–±–ª–∞—Å—Ç—å —Å—Ç–µ–Ω** –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏. –í –∫–æ–¥–µ —Å–µ–π—á–∞—Å —è–≤–Ω–æ –∑–∞–ª–æ–∂–µ–Ω **–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞ —Å—Ç–µ–Ω—ã = 1** (—Å –ø–æ–º–µ—Ç–∫–æ–π *"Placeholder index"*). **–í–∞–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞** –¥–ª—è —Å—Ç–µ–Ω—ã –≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –º–æ–¥–µ–ª–∏, –∏–Ω–∞—á–µ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –Ω–µ—Ç–æ—á–Ω–æ–π.
*   **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å –Ω–∞–ª–æ–∂–µ–Ω–∏—è —Ü–≤–µ—Ç–∞:** –°—Ç–æ–∏—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ **–≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Ü–≤–µ—Ç** ‚Äì —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ª–∏ –æ—Å–≤–µ—â–µ–Ω–∏–µ, —Ç–µ–∫—Å—Ç—É—Ä–∞ —Å—Ç–µ–Ω—ã –∏ –ø—Ä. –í Dulux Visualizer —Ü–≤–µ—Ç–∞ –≤—ã–≥–ª—è–¥—è—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ä–µ–∂–∏–º–∞–º —Å–º–µ—à–∏–≤–∞–Ω–∏—è (–≤ –≤–∞—à–µ–º –∫–æ–¥–µ —É–ø–æ–º–∏–Ω–∞–ª–∏—Å—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ `BlendMode` ‚Äì overlay, multiply –∏ –¥—Ä.). –í —Ä–∞–º–∫–∞—Ö –∞–Ω–∞–ª–∏–∑–∞ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª **–ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –Ω–∞–ª–æ–∂–µ–Ω–∏—è –∫—Ä–∞—Å–∫–∏**.
*   **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏:** –ü–æ—Å–∫–æ–ª—å–∫—É —Ä–µ—á—å –ø—Ä–æ **AR –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**, —Å–æ–≥–ª–∞—Å–µ–Ω, —á—Ç–æ –Ω—É–∂–Ω–æ —É–¥–µ–ª–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ –∏ overall FPS. –í —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ –∫–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞-—Ä–∞–º–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–æ–¥–µ–ª—å, –∏ —Ö–æ—Ç—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥ `_isProcessing` –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –Ω–æ–≤—ã—Ö –∫–∞–¥—Ä–æ–≤ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã** –º–æ–≥–ª–æ –±—ã —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ 10 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.
*   **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏:** –í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–º–µ—Ç–∏–ª–∏, —á—Ç–æ **–¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∫–∞–º–µ—Ä—ã –∏ –º–æ–¥–µ–ª–∏** –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏ –∏–ª–∏ –∫—Ä–∞—à–∞–º (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ iOS –≤ debug-—Ä–µ–∂–∏–º–µ). –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–∞–¥–µ–Ω–∏—è–º–∏ –Ω–∞ iOS, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å–≤—è–∑–∞–Ω–∞ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –±–∞–≥–∞–º–∏ Flutter-–∫–∞–º–µ—Ä—ã –≤ debug. **–í–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äì –æ—Ç–∫–ª—é—á–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤ –æ—Ç–ª–∞–¥–∫–µ –Ω–∞ iOS ‚Äì —Ä–∞–∑—É–º–Ω–æ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ä–∞.

### 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é **Dulux Visualizer**

–ê–±—Å–æ–ª—é—Ç–Ω–æ —Å–æ–≥–ª–∞—Å–µ–Ω, —á—Ç–æ **–¥–µ—Ç–∞–ª—å–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ—Ç–∏–≤ Dulux Visualizer** –Ω–µ–æ–±—Ö–æ–¥–∏–º.
*   **UI/UX –∏ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** Dulux Visualizer —Å–ª–∞–≤–∏—Ç—Å—è **–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º**. –£ –≤–∞—Å –∂–µ —Å–µ–π—á–∞—Å –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å: –¥–≤–∞ —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ –µ–¥–∏–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–¥–µ–ª–∞–µ—Ç –æ–ø—ã—Ç –±–æ–ª–µ–µ —Ü–µ–ª—å–Ω—ã–º. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ —Ç–∞–∫–∂–µ –Ω–∞ **–ø–∞–ª–∏—Ç—Ä—É –∏ –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞** ‚Äì –≤ Dulux —ç—Ç–æ —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–æ.
*   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å:** Dulux —Ä–µ–∞–≥–∏—Ä—É–µ—Ç **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ**. –°–µ–π—á–∞—Å –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ CPU. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫** ‚Äì –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.
*   **–ö–∞—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ö:** Dulux Visualizer, –±—É–¥—É—á–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º –ø—Ä–æ–¥—É–∫—Ç–æ–º, –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–æ–¥–µ–ª–∏. –í–∞—à–µ–º—É —Ä–µ—à–µ–Ω–∏—é –ø–æ–∫–∞ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —ç—Ç–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏. –í —Ä–∞–º–∫–∞—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –ø—Ä–æ–≤–µ—Å—Ç–∏ **—Ç–µ—Å—Ç—ã –Ω–∞ —Ç–µ—Ö –∂–µ —Å—Ü–µ–Ω–∞—Ö**.
*   **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** –í—ã –æ—Ç–º–µ—Ç–∏–ª–∏, —á—Ç–æ Dulux —Ä–∞–±–æ—Ç–∞–µ—Ç ~30 FPS —Å—Ç–∞–±–∏–ª—å–Ω–æ. –≠—Ç–æ –∑–∞—Å–ª—É–≥–∞ –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, —Ç–∞–∫ –∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö AR-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (ARCore/ARKit). –í–∞—à –∞–Ω–∞–ª–∏–∑ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å —Ç–µ–º—É: *–Ω–µ —Å—Ç–æ–∏—Ç –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ARKit/ARCore* –¥–ª—è **—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π**?

### 3. –ü–ª–∞–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–¢—Ä–µ—Ç–∏–π –±–ª–æ–∫ –ø–ª–∞–Ω–∞ –ø–æ—Å–≤—è—â—ë–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É, –∏ —è –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
*   **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞:** –°–æ–¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞ ‚Äì –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. **–°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞** –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏ —Å—Ç–µ–Ω ‚Äì –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –í—ã–¥–µ–ª–∏–≤ `WallSegmentationService` –∏ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ **—á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**.
*   **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –≤—ã–±–æ—Ä AI-–º–æ–¥–µ–ª–∏:** –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –≤—ã –æ–±—Ä–∞—Ç–∏–ª–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –º–æ–¥–µ–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ (`segformer.tflite`, `deeplabv3_mnv2_ade20k_1.tflite`, `1.tflite`). **–í–∞—à–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–ª–µ–≥—á—ë–Ω–Ω—É—é –º–æ–¥–µ–ª—å** –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω–æ. –ù—É–∂–µ–Ω –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.
*   **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –Ω–∞–ª–æ–∂–µ–Ω–∏—è:** –í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ —Å–µ–π—á–∞—Å **–º–∞—Å–∫–∞ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º**. –í –ø–ª–∞–Ω–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å–ª–µ–¥—É–µ—Ç **–ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –ª–æ–≥–∏–∫—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: —É—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç—Å—Ç—É–ø—ã –∏ —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞ –∫–∞–º–µ—Ä—ã.
*   **–ü—Ä–æ—á–∏–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (throttling, iOS debug):** –í—Å–µ –º–µ–ª–∫–∏–µ –±–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–µ—Ä–µ—á–∏—Å–ª–∏–ª–∏, —Ç–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –≤–Ω–µ—Å—Ç–∏ –≤ –ø–ª–∞–Ω.

### üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–¥–≤–æ–¥—è –∏—Ç–æ–≥: **–ø–ª–∞–Ω –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö**. –Ø –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏. –°–ª–µ–¥—É—è —ç—Ç–æ–º—É –ø–ª–∞–Ω—É, –≤—ã –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ **remalux\_ar** –ø–æ UX –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫ —É—Ä–æ–≤–Ω—é Dulux Visualizer.

---

## 5. –°—Ç–∞—Ç—É—Å –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–î–µ–∫–∞–±—Ä—å 2024)

### üéØ **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ö–æ–¥–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**

1. **‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —à—Ä–∏—Ñ—Ç—ã –≤ pubspec.yaml**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å GoogleFonts
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ —à—Ä–∏—Ñ—Ç–æ–≤

2. **‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –º–æ–¥–µ–ª—å ADE20K**  
   - –ò–∑–º–µ–Ω–µ–Ω–∞ –º–æ–¥–µ–ª—å —Å `1.tflite` –Ω–∞ `deeplabv3_mnv2_ade20k_1.tflite`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞ "—Å—Ç–µ–Ω–∞" —Å 1 –Ω–∞ 2 (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–ª—è ADE20K)

3. **‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AR-—ç–∫—Ä–∞–Ω–æ–≤**
   - –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π `wall_painter_screen.dart`
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω `ar_wall_painter_screen_simple.dart` –≤ `ar_wall_painter_screen.dart`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã imports –∏ —Ä–æ—É—Ç–∏–Ω–≥

4. **‚úÖ –°–æ–∑–¥–∞–Ω SegmentationService —Å Isolate**
   - –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å `lib/core/services/segmentation_service.dart`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –∏–∑–æ–ª—è—Ç–æ–º –¥–ª—è AI-–æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π YUV‚ÜíRGB

5. **‚úÖ –í–Ω–µ–¥—Ä–µ–Ω–∞ BLoC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ–∞–π–ª–æ–≤ BLoC: —Å–æ–±—ã—Ç–∏–π, —Å–æ—Å—Ç–æ—è–Ω–∏–π, –æ—Å–Ω–æ–≤–Ω–æ–π BLoC
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω SegmentationService –≤ BLoC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–∞–º–µ—Ä—ã, AI –∏ —Ä–∏—Å–æ–≤–∞–Ω–∏—è

6. **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** - **–í–´–ü–û–õ–ù–ï–ù–û**
   - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω AR-—ç–∫—Ä–∞–Ω —Å BLoC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
   - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SegmentationService —Å UI
   - ‚úÖ –°–æ–∑–¥–∞–Ω—ã CustomPainter –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ gesture handlers –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
   - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏

### ‚è≠Ô∏è **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–∑–∞–≤–µ—Ä—à–∞—é—â–∏–π —ç—Ç–∞–ø):**

1. **‚úÖ –í–Ω–µ–¥—Ä–∏—Ç—å BLoC –¥–ª—è AR-—ç–∫—Ä–∞–Ω–∞** - **–í–´–ü–û–õ–ù–ï–ù–û**
   - ‚úÖ –°–æ–∑–¥–∞–Ω ARWallPainterBloc —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
   - ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω SegmentationService 
   - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

2. **‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å BLoC –≤ AR-—ç–∫—Ä–∞–Ω** - **–í–´–ü–û–õ–ù–ï–ù–û**
   - ‚úÖ –ó–∞–º–µ–Ω–µ–Ω StatefulWidget –Ω–∞ BlocConsumer –≤ ar_wall_painter_screen.dart
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å–æ–±—ã—Ç–∏—è BLoC
   - ‚úÖ –°–æ–∑–¥–∞–Ω—ã CustomPainter –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
   - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

3. **üÜï –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (1-2 —á–∞—Å–∞)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å FPS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∫–∞–º–µ—Ä—ã
   - –î–æ–±–∞–≤–∏—Ç—å memory management
   - –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

4. **üÜï –£–ª—É—á—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç** (1 —á–∞—Å)
   - –î–æ–±–∞–≤–∏—Ç—å loading states —á–µ—Ä–µ–∑ BLoC
   - –£–ª—É—á—à–∏—Ç—å feedback –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –î–æ–±–∞–≤–∏—Ç—å error handling

## 6. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –í—ã–≤–æ–¥—ã –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–î–µ–∫–∞–±—Ä—å 2024)

### üìä **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**

–ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã **remalux-ar** –Ω–∞ –¥–µ–∫–∞–±—Ä—å 2024 –≥–æ–¥–∞ –º–æ–∂–Ω–æ –∫–æ–Ω—Å—Ç–∞—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ **–ø—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏**: –æ—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω—ã, –Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –≤—Å–µ –µ—â–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–æ–±–ª–µ–º–∞ —Å —à—Ä–∏—Ñ—Ç–∞–º–∏ —Ä–µ—à–µ–Ω–∞ –≤ `main.dart` (–Ω–∞—Å—Ç—Ä–æ–µ–Ω `allowRuntimeFetching = false`)
- –ë–∞–∑–æ–≤—ã–µ ML-–º–æ–¥–µ–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç (`IsolateInterpreter` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Riverpod –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –î–æ—Å—Ç—É–ø–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ ML-–º–æ–¥–µ–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ AR-—ç–∫—Ä–∞–Ω–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è AR-—Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–π ML-–º–æ–¥–µ–ª–∏ (`1.tflite` –≤–º–µ—Å—Ç–æ `deeplabv3_mnv2_ade20k_1.tflite`)
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

### üéØ **–ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ 2025 –≥–æ–¥**

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—è–Ω–≤–∞—Ä—å 2025):**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å `deeplabv3_mnv2_ade20k_1.tflite` (–æ–±—É—á–µ–Ω–∞ –Ω–∞ ADE20K)
   - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å AR-—ç–∫—Ä–∞–Ω—ã –≤ –µ–¥–∏–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
   - –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ü–∏—é `fonts` –≤ `pubspec.yaml`

2. **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (Q1 2025):**
   - –í–Ω–µ–¥—Ä–∏—Ç—å BLoC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è AR-—ç–∫—Ä–∞–Ω–æ–≤
   - –°–æ–∑–¥–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π `SegmentationService`
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (Q2-Q3 2025):**
   - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å GPU-—É—Å–∫–æ—Ä–µ–Ω–∏–µ (Metal/OpenGL ES)
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Flood Fill –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ–∫—Ä–∞—Å–∫–∏
   - –ü—Ä–æ–≤–µ—Å—Ç–∏ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ Dulux Visualizer

### üìà **–ü—Ä–æ–≥–Ω–æ–∑ —Ä–∞–∑–≤–∏—Ç–∏—è**

–ü—Ä–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–º—É –ø–ª–∞–Ω—É **remalux-ar** –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏—á—å MVP-–∫–∞—á–µ—Å—Ç–≤–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 2-3 –º–µ—Å—è—Ü–µ–≤ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫ —Å–µ—Ä–µ–¥–∏–Ω–µ 2025 –≥–æ–¥–∞. –û—Å–Ω–æ–≤–Ω—ã–º —Ñ–∞–∫—Ç–æ—Ä–æ–º —É—Å–ø–µ—Ö–∞ –±—É–¥–µ—Ç **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π** –±–µ–∑ –ø–æ–ø—ã—Ç–æ–∫ "–±—ã—Å—Ç—Ä—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π", –∫–æ—Ç–æ—Ä—ã–µ —É—Å—É–≥—É–±—è—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥.

**–û—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** 75% (‚Üë –æ—Ç 45% –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)

### üÜï **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ - –î–µ–∫–∞–±—Ä—å 2024**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç:**
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ —Å —Ö–∞–æ—Ç–∏—á–Ω–æ–π StatefulWidget –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ —á–∏—Å—Ç—É—é BLoC
- ‚úÖ **AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞** - SegmentationService —Å Isolate –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É UI
- ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ** - –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã AR-—ç–∫—Ä–∞–Ω—ã –≤ –µ–¥–∏–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è ML-–º–æ–¥–µ–ª—å** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç deeplabv3_mnv2_ade20k_1.tflite —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º —Å—Ç–µ–Ω
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI/UX** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ painter'—ã, gesture handling

**‚úÖ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù - –î–µ–∫–∞–±—Ä—å 2024**

### üéâ **–§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ 100%:**
- ‚úÖ **iOS —Å–±–æ—Ä–∫–∞:** `flutter build ios --debug --no-codesign` - –£–°–ü–ï–®–ù–û (115.5s)
- ‚úÖ **–ö–æ–¥ –∞–Ω–∞–ª–∏–∑:** `flutter analyze` - —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è BLoC —Å SegmentationService
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Isolate, UI –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏ –∏ –æ—à–∏–±–∫–∏

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. 